<?php
/**
 * Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License (AFL 3.0)
 * that is bundled with this package in the file LICENSE_AFL.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/afl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magentocommerce.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magento to newer
 * versions in the future. If you wish to customize Magento for your
 * needs please refer to http://www.magentocommerce.com for more information.
 *
 * @category    design
 * @package     base_default
 * @copyright   Copyright (c) 2013 Magento Inc. (http://www.magentocommerce.com)
 * @license     http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
 */
?>
<?php
/**
 * Top menu for store
 *
 * @see Mage_Page_Block_Html_Topmenu
 */
?>
<?php // $_menu = $this->getHtml('level-top')   ?>
<?php /* if ($_menu): ?>

  <ul id="nav" class="nav-ul">
  <?php echo $_menu ?>
  </ul>
  <?php endif; */ ?>

<?php
$pageId = Mage::app()->getRequest()->getParam('page_id', Mage::app()->getRequest()->getParam('id', false));
//$page = Mage::getModel('cms/page')->load($pageId);

switch ($pageId):
    case 26:
        $parentCategoryId = 12762;
        break;
    case 33:
        $parentCategoryId = 12775;
        break;
    default:
        $parentCategoryId = 12762;
endswitch;

$cat = Mage::getModel('catalog/category')->load($parentCategoryId);
$subcats = $cat->getChildren();
?>

<ul id="nav" class="nav-ul nav-ul-<?php echo $parentCategoryId; ?>">
    <?php
    foreach (explode(',', $subcats) as $subCatid) {
        $_category = Mage::getModel('catalog/category')->load($subCatid);
        if ($_category->getIsActive() && $_category->getIncludeInMenu()) {
            $url = $_category->getCategoryLink();
            ?>
            <li class="category-node-<?php echo $_category->getId(); ?> level0 nav-1 first level-top">
                <a class="level-top" href="<?php echo filter_var($url, FILTER_VALIDATE_URL) ? $url : $_category->getURL(); ?>" title="<?php echo $_category->getName(); ?>"><span><?php echo $_category->getName(); ?></span></a>
            </li>
            <?php
        }
    }
    ?>
</ul>

<?php
//foreach (explode(',', $subcats) as $subCatid) {
//    $_category = Mage::getModel('catalog/category')->load($subCatid);
//    if ($_category->getIsActive()) {
//        echo '<ul><a href="' . $_category->getURL() . '" title="View the products for the "' . $_category->getName() . '" category">' . $_category->getName() . '</a>';
//        $sub_cat = Mage::getModel('catalog/category')->load($_category->getId());
//        $sub_subcats = $sub_cat->getChildren();
//        foreach (explode(',', $sub_subcats) as $sub_subCatid) {
//            $_sub_category = Mage::getModel('catalog/category')->load($sub_subCatid);
//            if ($_sub_category->getIsActive()) {
//                echo '<li class="sub_cat"><a href="' . $_sub_category->getURL() . '" title="View the products for the "' . $_sub_category->getName() . '" category">' . $_sub_category->getName() . '</a></li>';
//            }
//        }
//        echo '</ul>';
//    }
//}
?>

<?php
//foreach (explode(',', $subcats) as $subCatid) {
//    $_category = Mage::getModel('catalog/category')->load($subCatid);
//    if ($_category->getIsActive()) {
//        echo '<ul><a href="' . $_category->getURL() . '" title="View the products for the "' . $_category->getName() . '" category">' . $_category->getName() . '</a>';
//        $sub_cat = Mage::getModel('catalog/category')->load($_category->getId());
//        $sub_subcats = $sub_cat->getChildren();
//        foreach (explode(',', $sub_subcats) as $sub_subCatid) {
//            $_sub_category = Mage::getModel('catalog/category')->load($sub_subCatid);
//            if ($_sub_category->getIsActive()) {
//                echo '<li class="sub_cat"><a href="' . $_sub_category->getURL() . '" title="View the products for the "' . $_sub_category->getName() . '" category">' . $_sub_category->getName() . '</a></li>';
//                $sub_sub_cat = Mage::getModel('catalog/category')->load($sub_subCatid);
//                $sub_sub_subcats = $sub_sub_cat->getChildren();
//                foreach (explode(',', $sub_sub_subcats) as $sub_sub_subCatid) {
//                    $_sub_sub_category = Mage::getModel('catalog/category')->load($sub_sub_subCatid);
//                    if ($_sub_sub_category->getIsActive()) {
//                        echo '<li class="sub_cat"><a href="' . $_sub_sub_category->getURL() . '" title="View the products for the "' . $_sub_sub_category->getName() . '" category">' . $_sub_sub_category->getName() . '</a></li>';
//                    }
//                }
//            }
//        }
//        echo '</ul>';
//    }
//}
?>

<?php
// $sub_subCatid this is sub category id . means if you want 4 level than it will take 3 level subcategory Id.
//$sub_sub_cat = Mage::getModel('catalog/category')->load($sub_subCatid);
//$sub_sub_subcats = $sub_sub_cat->getChildren();
//foreach (explode(',', $sub_sub_subcats) as $sub_sub_subCatid) {
//    $_sub_sub_category = Mage::getModel('catalog/category')->load($sub_sub_subCatid);
//    if ($_sub_sub_category->getIsActive()) {
//        echo '<li class="sub_cat"><a href="' . $_sub_sub_category->getURL() . '" title="View the products for the "' . $_sub_sub_category->getName() . '" category">' . $_sub_sub_category->getName() . '</a></li>';
//    }
//}
?>

